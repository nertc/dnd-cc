<div class="d-flex justify-content-around min-w-1000px w-100 h-100">
    <% races.forEach(({id, title}) => { %>
        <button
            type="button"
            class="btn btn-outline-primary w-10 h-100 d-flex justify-content-end flex-column align-items-center overflow-hidden py-3"
            data-bs-toggle="collapse"
            data-bs-target="#<%= id %>_popup"
            aria-expanded="false"
            aria-controls="<%= id %>_popup"
        >
            <img class="h-<%= {
                halfling: 40,
                gnome: 44,
                dwarf: 56,
                elf: 64, 
                half_elf: 68,
                tiefling: 68,
                human: 68,
                half_orc: 71,
                dragonborn: 80,
            }[id] %> mb-4" src="/static/image/race/<%= id %>.png" alt="<%= title %> photo">
            <div class="h-5em d-flex align-items-center justify-content-center">
                <h3 class="text-center text-break"><%= title %></h3>
            </div>
        </button>
    <% }); %>
</div>

<% races.forEach((race) => { %>
    <div class="top-0 start-0 position-absolute collapse bg-light bg-gradient" id="<%= race.id %>_popup">
        <div class="container-fluid d-flex flex-column p-5 dvh-100 vw-100">
            <div class="row py-2">
                <div class="col">
                    <h1><%= race.title %></h1>
                </div>
                <div class="col-auto d-flex align-items-center">
                    <button
                        type="button"
                        class="btn-close"
                        aria-label="Close"
                        data-bs-toggle="collapse"
                        data-bs-target="#<%= race.id %>_popup"
                        aria-expanded="true"
                        aria-controls="<%= race.id %>_popup"
                    ></button>
                </div>
            </div>
    
            <article class="mt-3 row h-100 border border-primary rounded d-flex flex-column flex-nowrap flex-lg-wrap align-items-stretch overflow-x-hidden p-3">
                <%- include("_popup.html", { race }); %>
            </article>
    
            <form class="row mt-3 d-flex justify-content-center" action="/subrace" method="get">
                <input type="hidden" name="race" value="<%= race.id %>">
                <button type="submit" class="btn btn-primary btn-lg w-auto px-5">Confirm</button>
            </form>
        </div>
    </div>
<% }); %>